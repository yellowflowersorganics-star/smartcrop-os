name: Test Secrets Configuration

on:
  workflow_dispatch:  # Manual trigger only

jobs:
  test-secrets:
    name: Verify Secrets Are Accessible
    runs-on: ubuntu-latest
    
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
      
      - name: Check VITE_API_URL secret
        run: |
          if [ -z "${{ secrets.VITE_API_URL }}" ]; then
            echo "‚ùå ERROR: VITE_API_URL secret is not set!"
            exit 1
          else
            echo "‚úÖ SUCCESS: VITE_API_URL secret is accessible"
            echo "Value starts with: ${VITE_API_URL:0:7}..."
          fi
        env:
          VITE_API_URL: ${{ secrets.VITE_API_URL }}
      
      - name: Secrets Configuration Summary
        run: |
          echo "================================================"
          echo "GitHub Secrets Configuration Test Results"
          echo "================================================"
          echo ""
          echo "‚úÖ Required Secrets:"
          echo "  - VITE_API_URL: Available"
          echo ""
          echo "üìù Optional Secrets (add when needed):"
          echo "  - AWS_ACCESS_KEY_ID: Not checked"
          echo "  - AWS_SECRET_ACCESS_KEY: Not checked"
          echo "  - GOOGLE_CLIENT_ID: Not checked"
          echo "  - TWILIO_ACCOUNT_SID: Not checked"
          echo "  - SLACK_WEBHOOK_URL: Not checked"
          echo ""
          echo "‚úÖ All required secrets are properly configured!"
          echo "You're ready to run the CI/CD pipeline!"
          echo ""
          echo "================================================"

